<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Min Info TrÃ¤nare</title>

<style>
:root{
  --bg:#eef1f5;
  --card:#ffffff;
  --border:#dfe3ea;
  --primary:#4CAF50;
  --secondary:#2196F3;
  --text:#1f2937;
  --muted:#6b7280;
}

*{box-sizing:border-box}

body{
  margin:0;
  padding:20px 12px;
  background:var(--bg);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
  color:var(--text);
}

/* YTTRE RAM */
.app-frame{
  max-width:560px;
  margin:auto;
  padding:12px;
  border-radius:22px;
  background:linear-gradient(180deg,#ffffff,#f5f7fb);
  box-shadow:
    0 20px 40px rgba(0,0,0,.08),
    inset 0 0 0 1px var(--border);
}

/* INRE KORT */
.container{
  background:var(--card);
  border-radius:18px;
  padding:22px 18px 26px;
  box-shadow:
    0 10px 25px rgba(0,0,0,.06);
}

.page{display:none}
.page.active{display:block}

h3{
  margin:0 0 18px;
  text-align:center;
  font-size:22px;
}

/* FORM */
label{
  font-weight:600;
  font-size:14px;
  margin:18px 0 6px;
  display:block;
  color:#374151;
}

input{
  width:100%;
  padding:14px;
  font-size:16px;
  border-radius:12px;
  border:1px solid var(--border);
  background:#fafafa;
}

input:focus{
  outline:none;
  border-color:var(--secondary);
  background:white;
}

/* KNAPPAR */
button{
  border:none;
  border-radius:14px;
  padding:14px;
  font-size:15px;
  cursor:pointer;
}

.main-btn{
  width:100%;
  background:var(--primary);
  color:white;
  margin-top:24px;
}

.audio-row{
  display:flex;
  gap:10px;
  margin-top:8px;
}

.audio-btn{
  flex:1;
  background:var(--secondary);
  color:white;
  padding:12px;
}

/* RÃ–STVAL */
.voice-selector{
  background:#f1f5ff;
  border:1px solid #e0e7ff;
  padding:12px;
  border-radius:14px;
  margin-bottom:20px;
}

select{
  width:100%;
  padding:10px;
  font-size:15px;
  border-radius:10px;
  border:1px solid var(--border);
}

/* TRÃ„NING */
.question{
  background:#eef5ff;
  border:1px solid #dbeafe;
  padding:18px;
  border-radius:16px;
  font-size:18px;
  text-align:center;
  margin:20px 0;
}

.feedback{
  text-align:center;
  font-weight:bold;
  margin-top:16px;
}

.correct{color:#15803d}
.incorrect{color:#b91c1c}

.answer-box{
  background:#fff7ed;
  border:1px solid #fed7aa;
  padding:16px;
  border-radius:14px;
  margin-top:16px;
  display:none;
}
</style>
</head>

<body>

<div class="app-frame">

<div id="info" class="container page active">
<h3>ğŸ“ Mina Uppgifter</h3>

<div class="voice-selector">
<label>Svensk rÃ¶st</label>
<select id="voiceSelect"></select>
</div>

<label>Adress</label>
<input id="adr" value="GrÃ¤nsholmsbacken 2">
<div class="audio-row">
<button class="audio-btn" onclick="speak('Din adress Ã¤r ' + adr.value)">ğŸ”Š</button>
<button class="audio-btn" onclick="speak('Din adress Ã¤r ' + adr.value,true)">ğŸŒ</button>
</div>

<label>Telefon</label>
<input id="tel" value="070 418 56 49">
<div class="audio-row">
<button class="audio-btn" onclick="speak(formatPhone(tel.value))">ğŸ”Š</button>
<button class="audio-btn" onclick="speak(formatPhone(tel.value),true)">ğŸŒ</button>
</div>

<label>Ditt personnummer</label>
<input id="pers" value="19971231-8907">
<div class="audio-row">
<button class="audio-btn" onclick="speak(formatPN(pers.value))">ğŸ”Š</button>
<button class="audio-btn" onclick="speak(formatPN(pers.value),true)">ğŸŒ</button>
</div>

<label>Hawa personnummer</label>
<input id="b1" value="20250102-2582">
<div class="audio-row">
<button class="audio-btn" onclick="speak('Hawa ' + formatPN(b1.value))">ğŸ”Š</button>
<button class="audio-btn" onclick="speak('Hawa ' + formatPN(b1.value),true)">ğŸŒ</button>
</div>

<label>Leyla personnummer</label>
<input id="b2" value="20250102-0388">
<div class="audio-row">
<button class="audio-btn" onclick="speak('Leyla ' + formatPN(b2.value))">ğŸ”Š</button>
<button class="audio-btn" onclick="speak('Leyla ' + formatPN(b2.value),true)">ğŸŒ</button>
</div>

<button class="main-btn" onclick="train()">ğŸ¯ TrÃ¤na</button>
</div>

<div id="train" class="container page">
<h3>ğŸ“ TrÃ¤ning</h3>

<div class="question" id="qdiv"></div>

<input id="ans" placeholder="Skriv ditt svar">

<button class="main-btn" onclick="check()">âœ… Kontrollera</button>
<button class="main-btn" onclick="nextQ()">ğŸ”„ Ny frÃ¥ga</button>
<button class="main-btn" onclick="back()">â¬…ï¸ Tillbaka</button>

<div id="fb" class="feedback"></div>

<div id="sol" class="answer-box">
<button class="audio-btn" onclick="speak('RÃ¤tt svar Ã¤r ' + cur.a,true)">ğŸ”Š</button>
<div id="corr"></div>
</div>
</div>

</div>

<script>
let voices=[],selectedVoice=null,q=[],cur={};

function loadVoices(){
  voices=speechSynthesis.getVoices();
  voiceSelect.innerHTML='';
  const sv=voices.filter(v=>v.lang.startsWith('sv'));
  if(!sv.length){alert('âš ï¸ Ingen svensk rÃ¶st installerad');return;}
  sv.forEach((v,i)=>{
    const o=document.createElement('option');
    o.value=v.name;o.text=v.name;
    if(i===0){o.selected=true;selectedVoice=v;}
    voiceSelect.appendChild(o);
  });
  voiceSelect.onchange=()=>selectedVoice=voices.find(v=>v.name===voiceSelect.value);
}

function speak(text,slow=false){
  speechSynthesis.cancel();
  const u=new SpeechSynthesisUtterance(text);
  u.lang='sv-SE';
  u.voice=selectedVoice;
  u.rate=slow?0.6:0.8;
  u.pitch=0.95;
  speechSynthesis.speak(u);
}

function formatPN(p){
  const c=p.replace(/\D/g,'');
  return `${c.slice(0,4)}â€¦ ${c.slice(4,6)}â€¦ ${c.slice(6,8)}â€¦ ${c.slice(8,10)}â€¦ ${c.slice(10,12)}`;
}

function formatPhone(t){
  return 'Telefonnummer ' + t.replace(/\s/g,'â€¦ ');
}

function train(){
  q=[
    {q:'Vad Ã¤r din adress?',a:adr.value},
    {q:'Vad Ã¤r ditt telefonnummer?',a:tel.value},
    {q:'Vad Ã¤r ditt personnummer?',a:pers.value},
    {q:'Vad Ã¤r Hawa personnummer?',a:b1.value},
    {q:'Vad Ã¤r Leyla personnummer?',a:b2.value}
  ];
  info.classList.remove('active');
  trainDiv.classList.add('active');
  nextQ();
}

function nextQ(){
  cur=q[Math.floor(Math.random()*q.length)];
  qdiv.textContent=cur.q;
  ans.value='';
  fb.textContent='';
  sol.style.display='none';
}

function check(){
  if(ans.value.replace(/\D/g,'')===cur.a.replace(/\D/g,'')){
    fb.textContent='âœ… RÃ¤tt!';
    fb.className='feedback correct';
    setTimeout(nextQ,1500);
  }else{
    fb.textContent='âŒ Fel';
    fb.className='feedback incorrect';
    corr.textContent='RÃ¤tt svar: '+cur.a;
    sol.style.display='block';
  }
}

function back(){
  trainDiv.classList.remove('active');
  info.classList.add('active');
}

window.onload=()=>{
  loadVoices();
  speechSynthesis.onvoiceschanged=loadVoices;
};

const info=document.getElementById('info');
const trainDiv=document.getElementById('train');
const qdiv=document.getElementById('qdiv');
const ans=document.getElementById('ans');
const fb=document.getElementById('fb');
const sol=document.getElementById('sol');
const corr=document.getElementById('corr');
</script>

</body>
</html>
